{"version":3,"file":"js/164.b29f451a.js","mappings":"iHAIAA,EAAQ,EAAU,CAACC,EAAKC,KACpB,MAAMC,EAASF,EAAIG,WAAaH,EAChC,IAAK,MAAOI,EAAKC,KAAQJ,EACrBC,EAAOE,GAAOC,EAElB,OAAOH,CAAM,C,iVCuCjB,MAAMI,GAAQC,EAAAA,EAAAA,IAAI,IACZC,GAAcD,EAAAA,EAAAA,IAAI,IAClBE,GAAcF,EAAAA,EAAAA,IAAI,GAClBG,GAAeH,EAAAA,EAAAA,IAAI,KAGzBI,EAAAA,EAAAA,KAAUC,UACR,IACE,MAAMC,GAAkBC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,SACjCC,QAAsBC,EAAAA,EAAAA,IAAQJ,GACpCP,EAAMY,MAAQF,EAAcG,KAAKC,KAAKC,IAAG,CACvCC,IAAKD,EAAIE,MACNF,EAAIG,UAEX,CAAE,MAAOC,GACPC,QAAQD,MAAM,wBAAyBA,EACzC,KAIF,MAAME,GAAgBC,EAAAA,EAAAA,KAAS,KAC7B,IAAIC,EAAWvB,EAAMY,MAAMY,QAAQC,IACjC,MAAMC,EAAcD,EAAKC,YAAcD,EAAKC,YAAYC,cAAgB,GAClEC,EAAQH,EAAKG,MAAQH,EAAKG,MAAMD,cAAgB,GACtD,OACED,EAAYG,SAAS3B,EAAYU,MAAMe,gBACvCC,EAAMC,SAAS3B,EAAYU,MAAMe,cAAc,IAInD,MAAMG,GAAc3B,EAAYS,MAAQ,GAAKR,EAAaQ,MACpDmB,EAAWD,EAAa1B,EAAaQ,MAC3C,OAAOW,EAASS,MAAMF,EAAYC,EAAS,KAG7CE,EAAAA,EAAAA,IAAM/B,GAAa,KAEjBC,EAAYS,MAAQ,CAAC,IAIvB,MAAMsB,EAAoB5B,UACxB,IACE,MAAM6B,GAAapB,EAAAA,EAAAA,IAAIN,EAAAA,GAAI,QAASgB,EAAKT,WACnCoB,EAAAA,EAAAA,IAAUD,EAAY,CAC1BE,QAASZ,EAAKY,SAElB,CAAE,MAAOlB,GACPC,QAAQD,MAAM,+BAAgCA,EAEhD,G,k9BC/FF,MAAMmB,EAAc,EAEpB,Q,sBCLU,iB,eCCV,MAAMC,EAAS,CAAC,EAGV,GAA2B,OAAgBA,EAAQ,CAAC,CAAC,SAASC,KAEpE,Q,gCCyBA,MAAMC,GAAYxC,EAAAA,EAAAA,IAAI,S,8+BC5BtB,MAAM,EAAc,EAEpB,O","sources":["webpack://vue-social/./node_modules/vue-loader/dist/exportHelper.js","webpack://vue-social/./src/views/admin/UserManagement.vue","webpack://vue-social/./src/views/admin/UserManagement.vue?f65e","webpack://vue-social/./src/views/admin/NewsManagement.vue","webpack://vue-social/./src/views/admin/NewsManagement.vue?0ad9","webpack://vue-social/./src/views/admin/AdminPanel.vue","webpack://vue-social/./src/views/admin/AdminPanel.vue?b939"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","<template>\r\n  <div>\r\n    <v-text-field\r\n      v-model=\"searchQuery\"\r\n      label=\"Search Users\"\r\n      variant=\"outlined\"\r\n      class=\"mb-4\"\r\n    ></v-text-field>\r\n\r\n    <v-table>\r\n      <thead>\r\n        <tr>\r\n          <th>Display Name</th>\r\n          <th>Email</th>\r\n          <th>Admin</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"user in filteredUsers\" :key=\"user.uid\">\r\n          <td>{{ user.displayName }}</td>\r\n          <td>{{ user.email }}</td>\r\n          <td>\r\n            <v-checkbox\r\n              v-model=\"user.isAdmin\"\r\n              @change=\"updateAdminStatus(user)\"\r\n            ></v-checkbox>\r\n          </td>\r\n          <td>\r\n            <v-list-item></v-list-item>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </v-table>\r\n\r\n    <v-pagination\r\n      v-model=\"currentPage\"\r\n      :length=\"Math.ceil(filteredUsers.length / usersPerPage)\"\r\n      class=\"mt-4\"\r\n    ></v-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed, watch } from \"vue\";\r\nimport { collection, getDocs, updateDoc, doc } from \"firebase/firestore\";\r\nimport { db } from \"@/firebase\";\r\n\r\nconst users = ref([]);\r\nconst searchQuery = ref(\"\");\r\nconst currentPage = ref(1);\r\nconst usersPerPage = ref(10); // Adjust the number of users to display per page\r\n\r\n// Fetch all users on component mount\r\nonMounted(async () => {\r\n  try {\r\n    const usersCollection = collection(db, \"users\");\r\n    const usersSnapshot = await getDocs(usersCollection);\r\n    users.value = usersSnapshot.docs.map((doc) => ({\r\n      uid: doc.id,\r\n      ...doc.data(),\r\n    }));\r\n  } catch (error) {\r\n    console.error(\"Error fetching users:\", error);\r\n  }\r\n});\r\n\r\n// Computed property for filtered and paginated users\r\nconst filteredUsers = computed(() => {\r\n  let filtered = users.value.filter((user) => {\r\n    const displayName = user.displayName ? user.displayName.toLowerCase() : \"\";\r\n    const email = user.email ? user.email.toLowerCase() : \"\";\r\n    return (\r\n      displayName.includes(searchQuery.value.toLowerCase()) ||\r\n      email.includes(searchQuery.value.toLowerCase())\r\n    );\r\n  });\r\n\r\n  const startIndex = (currentPage.value - 1) * usersPerPage.value;\r\n  const endIndex = startIndex + usersPerPage.value;\r\n  return filtered.slice(startIndex, endIndex);\r\n});\r\n\r\nwatch(searchQuery, () => {\r\n  // Reset to the first page when the search query changes\r\n  currentPage.value = 1;\r\n});\r\n\r\n// Watch for changes in isAdmin and update Firestore\r\nconst updateAdminStatus = async (user) => {\r\n  try {\r\n    const userDocRef = doc(db, \"users\", user.uid);\r\n    await updateDoc(userDocRef, {\r\n      isAdmin: user.isAdmin,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error updating admin status:\", error);\r\n    // Handle error, e.g., revert the checkbox state, show an error message\r\n  }\r\n};\r\n</script>\r\n","import script from \"./UserManagement.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UserManagement.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>News Management</template>\r\n","import { render } from \"./NewsManagement.vue?vue&type=template&id=7f22ee47\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-container>\r\n    <v-card class=\"pa-5\">\r\n      <v-card-title class=\"text-h5 text-center\">Admin Panel</v-card-title>\r\n\r\n      <v-tabs v-model=\"activeTab\" color=\"primary\">\r\n        <v-tab value=\"users\">User Management</v-tab>\r\n        <v-tab value=\"news\">News Management</v-tab>\r\n        <!-- Add more tabs for other admin features -->\r\n      </v-tabs>\r\n\r\n      <v-window v-model=\"activeTab\">\r\n        <v-window-item value=\"users\">\r\n          <UserManagement />\r\n        </v-window-item>\r\n\r\n        <v-window-item value=\"news\">\r\n          <NewsManagement />\r\n        </v-window-item>\r\n\r\n        <!-- Content for other admin features -->\r\n      </v-window>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport UserManagement from \"./UserManagement.vue\";\r\nimport NewsManagement from \"./NewsManagement.vue\";\r\n\r\nconst activeTab = ref(\"users\");\r\n</script>\r\n","import script from \"./AdminPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminPanel.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","users","ref","searchQuery","currentPage","usersPerPage","onMounted","async","usersCollection","collection","db","usersSnapshot","getDocs","value","docs","map","doc","uid","id","data","error","console","filteredUsers","computed","filtered","filter","user","displayName","toLowerCase","email","includes","startIndex","endIndex","slice","watch","updateAdminStatus","userDocRef","updateDoc","isAdmin","__exports__","script","render","activeTab"],"sourceRoot":""}