"use strict";(self["webpackChunkvue_social"]=self["webpackChunkvue_social"]||[]).push([[164],{6262:function(e,l){l.A=(e,l)=>{const a=e.__vccOpts||e;for(const[t,n]of l)a[t]=n;return a}},4164:function(e,l,a){a.r(l),a.d(l,{default:function(){return h}});var t=a(641),n=a(953),u=a(33),s=a(1884),o=a(1394);const d=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"Display Name"),(0,t.Lk)("th",null,"Email"),(0,t.Lk)("th",null,"Admin"),(0,t.Lk)("th",null,"Actions")])],-1);var r={__name:"UserManagement",setup(e){const l=(0,n.KR)([]),a=(0,n.KR)(""),r=(0,n.KR)(1),i=(0,n.KR)(10);(0,t.sV)((async()=>{try{const e=(0,s.rJ)(o.db,"users"),a=await(0,s.GG)(e);l.value=a.docs.map((e=>({uid:e.id,...e.data()})))}catch(e){console.error("Error fetching users:",e)}}));const c=(0,t.EW)((()=>{let e=l.value.filter((e=>{const l=e.displayName?e.displayName.toLowerCase():"",t=e.email?e.email.toLowerCase():"";return l.includes(a.value.toLowerCase())||t.includes(a.value.toLowerCase())}));const t=(r.value-1)*i.value,n=t+i.value;return e.slice(t,n)}));(0,t.wB)(a,(()=>{r.value=1}));const v=async e=>{try{const l=(0,s.H9)(o.db,"users",e.uid);await(0,s.mZ)(l,{isAdmin:e.isAdmin})}catch(l){console.error("Error updating admin status:",l)}};return(e,l)=>{const n=(0,t.g2)("v-text-field"),s=(0,t.g2)("v-checkbox"),o=(0,t.g2)("v-list-item"),m=(0,t.g2)("v-table"),k=(0,t.g2)("v-pagination");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(n,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),label:"Search Users",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),(0,t.bF)(m,null,{default:(0,t.k6)((()=>[d,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(c.value,(e=>((0,t.uX)(),(0,t.CE)("tr",{key:e.uid},[(0,t.Lk)("td",null,(0,u.v_)(e.displayName),1),(0,t.Lk)("td",null,(0,u.v_)(e.email),1),(0,t.Lk)("td",null,[(0,t.bF)(s,{modelValue:e.isAdmin,"onUpdate:modelValue":l=>e.isAdmin=l,onChange:l=>v(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),(0,t.Lk)("td",null,[(0,t.bF)(o)])])))),128))])])),_:1}),(0,t.bF)(k,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),length:Math.ceil(c.value.length/i.value),class:"mt-4"},null,8,["modelValue","length"])])}}};const i=r;var c=i;function v(e,l){return"News Management"}var m=a(6262);const k={},b=(0,m.A)(k,[["render",v]]);var g=b,f={__name:"AdminPanel",setup(e){const l=(0,n.KR)("users");return(e,a)=>{const n=(0,t.g2)("v-card-title"),u=(0,t.g2)("v-tab"),s=(0,t.g2)("v-tabs"),o=(0,t.g2)("v-window-item"),d=(0,t.g2)("v-window"),r=(0,t.g2)("v-card"),i=(0,t.g2)("v-container");return(0,t.uX)(),(0,t.Wv)(i,null,{default:(0,t.k6)((()=>[(0,t.bF)(r,{class:"pa-5"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"text-h5 text-center"},{default:(0,t.k6)((()=>[(0,t.eW)("Admin Panel")])),_:1}),(0,t.bF)(s,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),color:"primary"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{value:"users"},{default:(0,t.k6)((()=>[(0,t.eW)("User Management")])),_:1}),(0,t.bF)(u,{value:"news"},{default:(0,t.k6)((()=>[(0,t.eW)("News Management")])),_:1})])),_:1},8,["modelValue"]),(0,t.bF)(d,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e)},{default:(0,t.k6)((()=>[(0,t.bF)(o,{value:"users"},{default:(0,t.k6)((()=>[(0,t.bF)(c)])),_:1}),(0,t.bF)(o,{value:"news"},{default:(0,t.k6)((()=>[(0,t.bF)(g)])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}}};const p=f;var h=p}}]);
//# sourceMappingURL=164.b29f451a.js.map