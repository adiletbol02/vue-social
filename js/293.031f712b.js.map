{"version":3,"file":"js/293.031f712b.js","mappings":"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","sources":["webpack://vue-social/./node_modules/vue-loader/dist/exportHelper.js","webpack://vue-social/./src/views/HomePage.vue","webpack://vue-social/./src/views/HomePage.vue?150d","webpack://vue-social/./src/views/PostContent.vue","webpack://vue-social/./src/views/PostContent.vue?0685"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","<template>\r\n  <v-container>\r\n    <v-container class=\"fixed-header\">\r\n      <v-row>\r\n        <v-col>\r\n          <v-card style=\"text-align: center\" class=\"pa-4\">\r\n            <v-btn v-if=\"!showForm\" color=\"primary\" @click=\"showForm = true\">\r\n              Create Post\r\n            </v-btn>\r\n            <v-form v-else @submit.prevent=\"createPost\" class=\"post-form\">\r\n              <v-text-field\r\n                v-model=\"newPostText\"\r\n                label=\"What's on your mind?\"\r\n                outlined\r\n                dense\r\n              ></v-text-field>\r\n              <v-file-input\r\n                v-model=\"newPostImage\"\r\n                label=\"Attach an image\"\r\n                outlined\r\n                dense\r\n                accept=\"image/*\"\r\n              ></v-file-input>\r\n              <v-btn type=\"submit\" color=\"primary\" :disabled=\"isCreatingPost\">\r\n                {{ isCreatingPost ? \"Posting...\" : \"Post\" }}\r\n              </v-btn>\r\n              <v-btn text @click=\"showForm = false\" class=\"cancel-btn\">\r\n                Cancel\r\n              </v-btn>\r\n            </v-form>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n\r\n    <v-main>\r\n      <v-container class=\"main-content\">\r\n        <v-row>\r\n          <v-col>\r\n            <!-- Display posts -->\r\n            <div v-if=\"isLoading\">Loading posts...</div>\r\n            <div v-else-if=\"fetchError\">\r\n              Error fetching posts: {{ fetchError }}\r\n            </div>\r\n            <PostContent\r\n              v-else\r\n              v-for=\"post in posts\"\r\n              :key=\"post.id\"\r\n              :post=\"post\"\r\n              :users=\"users\"\r\n            />\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </v-main>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { db, storage, auth } from \"@/firebase.js\";\r\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\r\nimport {\r\n  collection,\r\n  onSnapshot,\r\n  query,\r\n  orderBy,\r\n  addDoc,\r\n  serverTimestamp,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  uploadBytes,\r\n  getDownloadURL,\r\n  ref as storageRef,\r\n} from \"firebase/storage\";\r\nimport PostContent from \"./PostContent.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    PostContent,\r\n  },\r\n  setup() {\r\n    const posts = ref([]);\r\n    const users = ref({});\r\n    const isLoading = ref(true);\r\n    const fetchError = ref(null);\r\n    const newPostText = ref(\"\");\r\n    const newPostImage = ref(null);\r\n    const isCreatingPost = ref(false);\r\n    const showForm = ref(false);\r\n\r\n    const createPost = async () => {\r\n      if (newPostText.value.trim() === \"\") {\r\n        alert(\"Post text cannot be empty\");\r\n        return;\r\n      }\r\n      isCreatingPost.value = true;\r\n\r\n      try {\r\n        let imageUrl = null;\r\n        if (newPostImage.value) {\r\n          const imageRef = storageRef(\r\n            storage,\r\n            `posts/${new Date().toISOString()}_${newPostImage.value.name}`\r\n          );\r\n          await uploadBytes(imageRef, newPostImage.value);\r\n          imageUrl = await getDownloadURL(imageRef);\r\n        }\r\n\r\n        await addDoc(collection(db, \"posts\"), {\r\n          text: newPostText.value,\r\n          imageUrl: imageUrl,\r\n          createdAt: serverTimestamp(),\r\n          userId: auth.currentUser.uid, // Get actual user ID\r\n          username: auth.currentUser.displayName, // Get actual username\r\n          userPhotoURL: auth.currentUser.photoURL, // Get actual photo URL\r\n        });\r\n\r\n        newPostText.value = \"\";\r\n        newPostImage.value = null;\r\n      } catch (error) {\r\n        console.error(\"Error creating post:\", error);\r\n        alert(\"Error creating post: \" + error.message);\r\n      } finally {\r\n        isCreatingPost.value = false;\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      const postsCollection = collection(db, \"posts\");\r\n      const q = query(postsCollection, orderBy(\"createdAt\", \"desc\"));\r\n\r\n      const unsubscribePosts = onSnapshot(\r\n        q,\r\n        (querySnapshot) => {\r\n          console.log(\"Fetching posts...\");\r\n          if (querySnapshot.empty) {\r\n            console.log(\"No posts found.\");\r\n          } else {\r\n            posts.value = querySnapshot.docs.map((doc) => ({\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            }));\r\n            console.log(\"Posts loaded:\", posts.value);\r\n          }\r\n          isLoading.value = false;\r\n        },\r\n        (error) => {\r\n          fetchError.value = error.message;\r\n          console.error(\"Error fetching posts:\", error);\r\n          isLoading.value = false;\r\n        }\r\n      );\r\n\r\n      const usersCollection = collection(db, \"users\");\r\n      const unsubscribeUsers = onSnapshot(\r\n        usersCollection,\r\n        (querySnapshot) => {\r\n          console.log(\"Fetching users...\");\r\n          querySnapshot.forEach((doc) => {\r\n            users.value[doc.id] = doc.data();\r\n          });\r\n          console.log(\"Users loaded:\", users.value);\r\n        },\r\n        (error) => {\r\n          console.error(\"Error fetching users:\", error);\r\n        }\r\n      );\r\n\r\n      onBeforeUnmount(() => {\r\n        unsubscribePosts();\r\n        unsubscribeUsers();\r\n      });\r\n    });\r\n\r\n    return {\r\n      posts,\r\n      users,\r\n      isLoading,\r\n      fetchError,\r\n      newPostText,\r\n      newPostImage,\r\n      createPost,\r\n      isCreatingPost,\r\n      showForm,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fixed-header {\r\n  position: fixed;\r\n  top: 50px;\r\n  left: 0;\r\n  right: 8;\r\n  z-index: 10; /* Ensure the header stays on top */\r\n  background-color: white; /* Match your app's background */\r\n}\r\n\r\n.post-form {\r\n  display: flex;\r\n  flex-direction: column; /* Arrange form elements vertically */\r\n}\r\n\r\n.cancel-btn {\r\n  margin-top: 10px; /* Add spacing above the Cancel button */\r\n}\r\n\r\n.main-content {\r\n  padding-top: 16px; /* Adjust based on fixed-header height */\r\n}\r\n</style>\r\n","import { render } from \"./HomePage.vue?vue&type=template&id=8ec17b58&scoped=true\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=8ec17b58&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ec17b58\"]])\n\nexport default __exports__","<template>\r\n  <v-card class=\"mb-3\">\r\n    <v-card-title class=\"d-flex align-center\">\r\n      <div v-if=\"user\">\r\n        <v-avatar class=\"mr-3\">\r\n          <img\r\n            v-if=\"user.photoURL\"\r\n            :src=\"user.photoURL\"\r\n            alt=\"Profile Picture\"\r\n            class=\"avatar-img\"\r\n          />\r\n          <img\r\n            v-else\r\n            src=\"https://firebasestorage.googleapis.com/v0/b/vuesocial-5ebd2.appspot.com/o/system-images%2Faccount.png?alt=media&token=3d774fec-20ee-487d-a027-d01bc4a7b2e0\"\r\n            alt=\"Profile Picture\"\r\n            class=\"avatar-img\"\r\n          />\r\n        </v-avatar>\r\n        <div>\r\n          <div class=\"username\">{{ user.displayName || \"Unknown User\" }}</div>\r\n          <div class=\"text--secondary\">{{ postTime }}</div>\r\n        </div>\r\n      </div>\r\n    </v-card-title>\r\n    <v-card-text class=\"post-text\">{{ post.text }}</v-card-text>\r\n    <v-img\r\n      v-if=\"post.imageUrl\"\r\n      :src=\"post.imageUrl\"\r\n      height=\"350px\"\r\n      class=\"post-image\"\r\n      contain\r\n    />\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref, onMounted } from \"vue\";\r\nimport { getDoc, doc } from \"firebase/firestore\";\r\nimport { db } from \"@/firebase.js\";\r\nexport default {\r\n  props: {\r\n    post: Object,\r\n    users: Object,\r\n  },\r\n  setup(props) {\r\n    const user = ref(null);\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        const userDocRef = doc(db, \"users\", props.post.userId);\r\n        const userDocSnapshot = await getDoc(userDocRef);\r\n\r\n        if (userDocSnapshot.exists()) {\r\n          user.value = userDocSnapshot.data();\r\n        } else {\r\n          console.log(\"User document not found.\");\r\n          // Handle the case where the user document doesn't exist\r\n          // You might want to set a default user object or display an error message.\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n        // Handle the error appropriately.\r\n      }\r\n    });\r\n\r\n    const postTime = computed(() => {\r\n      if (!props.post.createdAt) return \"Unknown time\";\r\n      const date = props.post.createdAt.toDate();\r\n      return date.toLocaleString();\r\n    });\r\n\r\n    return {\r\n      user,\r\n      postTime,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.text--secondary {\r\n  font-size: 0.8em;\r\n  color: grey;\r\n}\r\n\r\n.username {\r\n  font-size: 1rem;\r\n}\r\n\r\n.post-text {\r\n  font-size: 1.1rem;\r\n}\r\n.post-image {\r\n  max-width: 100%;\r\n}\r\n.avatar-img {\r\n  width: 32px;\r\n  height: 32px;\r\n  object-fit: cover; /* Ensure image covers the area */\r\n}\r\n</style>\r\n","import { render } from \"./PostContent.vue?vue&type=template&id=471a7364&scoped=true\"\nimport script from \"./PostContent.vue?vue&type=script&lang=js\"\nexport * from \"./PostContent.vue?vue&type=script&lang=js\"\n\nimport \"./PostContent.vue?vue&type=style&index=0&id=471a7364&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-471a7364\"]])\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","_createBlock","_component_v_container","default","_withCtx","_createVNode","class","_component_v_row","_component_v_col","_component_v_card","style","$setup","showForm","_component_v_form","onSubmit","_withModifiers","createPost","_component_v_text_field","modelValue","newPostText","_cache","$event","label","outlined","dense","_component_v_file_input","newPostImage","accept","_component_v_btn","type","color","disabled","isCreatingPost","_createTextVNode","_toDisplayString","_","text","onClick","_component_v_main","isLoading","_createElementBlock","_hoisted_1","fetchError","_hoisted_2","_Fragment","_renderList","posts","post","_component_PostContent","id","users","components","PostContent","setup","ref","async","value","trim","imageUrl","imageRef","storageRef","storage","Date","toISOString","name","uploadBytes","getDownloadURL","addDoc","collection","db","createdAt","serverTimestamp","userId","auth","currentUser","uid","username","displayName","userPhotoURL","photoURL","error","console","alert","message","onMounted","postsCollection","q","query","orderBy","unsubscribePosts","onSnapshot","querySnapshot","log","empty","docs","map","doc","data","usersCollection","unsubscribeUsers","forEach","onBeforeUnmount","__exports__","render","src","alt","_component_v_card_title","user","_component_v_avatar","_hoisted_3","_createElementVNode","_hoisted_4","_hoisted_5","postTime","_createCommentVNode","_component_v_card_text","$props","_component_v_img","height","contain","Object","userDocRef","userDocSnapshot","getDoc","exists","computed","date","toDate","toLocaleString"],"sourceRoot":""}